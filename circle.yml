## Customize the test machine
machine:
  # timezone:
  #  America/Los_Angeles
  node:
    version: 8.9.4

## Configure test dependencies
dependencies:
  pre:
    - echo "//registry.npmjs.org/:_authToken=$NPM_TOKEN" >> ~/.npmrc
  cache_directories:
    - "node_modules"
  override:
    - npm i

## Ensure mistakes weren't made
#test:
#  override:
#   - npm test
test:
  override:
    - npm run test
    - npm run coveralls

## Execute key deliverables

deployment:
  npm:
    tag: /v[0-9]+(\.[0-9]+)*/
      commands:
        - npm run build
        - npm publish
